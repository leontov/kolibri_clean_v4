# Голосование цифр

Каждый шаг Kolibri управляется ансамблем из десяти цифр (0–9). Они формируют решения через процесс голосования.

## Процесс

1. **Состояние.** Перед голосованием цифры получают структуру `KolState`, содержащую текущую формулу, метрики последнего шага и номер шага.
2. **Голос.** Каждая цифра вычисляет число `float` с помощью `digit_vote`. Оно зависит от внутреннего генератора случайных чисел, накопленного опыта и совпадения шага.
3. **Лидер.** `vote_run` собирает голоса и выбирает цифру с максимальным значением. Идентификатор лидера определяет стратегию тика (мутация, упрощение или новая формула).
4. **Обучение.** Лидер получает обратную связь через `digit_learn`, сохраняя лучшую формулу и метрики.

## Фрактальность

Внутри каждой цифры хранятся ссылки на 10 подцифр. Базовый лидер может делегировать ответственность: на следующих итерациях подцифры получают обновлённое состояние через `digit_learn` и постепенно формируют свой опыт.

## Метрики

- **Eff** усиливает цифры с хорошими результатами.
- **Compl** штрафует сложные формулы, поощряя простые решения.
- **Случайность** удерживает исследование пространства формул.

Такой гибрид стохастики и памяти обеспечивает баланс хаоса и отбора, необходимый для порождения новых формул.
